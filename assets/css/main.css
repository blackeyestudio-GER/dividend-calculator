@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light Theme Colors */
    --color-bg: #FFFFFF;
    --color-surface: #F8F9FA;
    --color-card: #FFFFFF;
    --color-border: #E5E7EB;
    --color-text-primary: #111827;
    --color-text-secondary: #6B7280;
    --color-text-muted: #9CA3AF;
    --color-primary: #171717;
    --color-primary-hover: #262626;
    --color-accent: #10B981;
    --color-magenta: #EC4899;
    --color-cyan: #06B6D4;
  }

  html.dark {
    /* Dark Theme Colors - Business Schwarz/Grau */
    --color-bg: #0A0A0A;
    --color-surface: #1A1A1A;
    --color-card: #252525;
    --color-border: #3A3A3A;
    --color-text-primary: #F5F5F5;
    --color-text-secondary: #D4D4D4;
    --color-text-muted: #A3A3A3;
    --color-primary: #171717;
    --color-primary-hover: #262626;
    --color-accent: #10B981;
    --color-magenta: #EC4899;
    --color-cyan: #06B6D4;
  }

  html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    overflow-x: hidden;
  }

  body {
    background-color: var(--color-bg) !important;
    color: var(--color-text-primary) !important;
    transition: background-color 0.2s, color 0.2s;
  }
  
  html.dark body {
    background-color: var(--color-bg) !important;
    color: var(--color-text-primary) !important;
  }
}

@layer components {
  /* Legacy Support - wird durch BEM-Klassen ersetzt */
  .btn-primary {
    @apply btn btn--primary;
  }

  /* BEM Component Styles - Kombiniert mit Tailwind */
  /* Position Card */
  .position-card {
    @apply bg-[var(--color-card)] border border-[var(--color-border)] rounded-lg p-6 shadow-sm;
  }

  .position-card__header {
    @apply flex justify-between items-start mb-6;
  }

  .position-card__title {
    @apply text-xl font-semibold text-[var(--color-text-primary)];
  }

  .position-card__remove-btn {
    @apply text-sm font-medium transition-colors;
    color: #ef4444;
  }
  .position-card__remove-btn:hover {
    color: #dc2626;
  }

  .position-card__content {
    @apply space-y-6;
  }

  .position-card__section {
    @apply mb-6;
  }

  .position-card__label {
    @apply block text-[var(--color-text-secondary)] mb-2 font-medium;
  }

  .position-card__info {
    @apply bg-[var(--color-surface)] border border-[var(--color-border)] rounded-lg px-4 py-3;
  }

  .position-card__info-symbol {
    color: var(--color-cyan);
    font-weight: 600;
  }

  .position-card__info-name {
    @apply text-[var(--color-text-secondary)] ml-2;
  }

  .position-card__hint {
    @apply text-xs text-[var(--color-text-muted)] mt-1;
  }

  .position-card__hint--error {
    @apply text-xs mt-1;
    color: #ef4444;
  }

  /* Stock Search */
  .stock-search {
    @apply mb-6 relative;
  }

  .stock-search__label {
    @apply block text-[var(--color-text-secondary)] mb-2 font-medium;
  }

  .stock-search__hint {
    @apply text-xs text-[var(--color-text-muted)] ml-2;
  }

  .stock-search__container {
    @apply flex gap-2 relative;
  }

  .stock-search__input-wrapper {
    @apply flex-1 relative;
  }

  .stock-search__dropdown {
    @apply absolute z-50 w-full mt-1 bg-[var(--color-card)] border border-[var(--color-border)] rounded-lg shadow-xl max-h-60 overflow-y-auto;
  }

  .stock-search__dropdown-item {
    @apply px-4 py-3 hover:bg-[var(--color-surface)] cursor-pointer border-b border-[var(--color-border)] last:border-b-0 transition-colors;
  }

  .stock-search__dropdown-symbol {
    color: var(--color-cyan);
    font-weight: 600;
  }

  .stock-search__dropdown-name {
    @apply text-[var(--color-text-secondary)] text-sm ml-2;
  }

  .stock-search__dropdown-type {
    @apply text-xs text-[var(--color-text-muted)] bg-[var(--color-surface)] px-2 py-1 rounded;
  }

  .stock-search__status {
    @apply text-sm mt-2;
  }

  .stock-search__status--loading {
    @apply text-[var(--color-primary)] animate-pulse;
  }

  .stock-search__status--error {
    color: #ef4444;
  }

  .stock-search__status--success {
    color: #16a34a;
  }
  .dark .stock-search__status--success {
    color: #4ade80;
  }

  .stock-search__status-source {
    @apply text-[var(--color-text-muted)] text-xs ml-2;
  }

  .stock-search__tip {
    @apply text-xs text-[var(--color-text-muted)] mt-1;
  }

  /* Dividend Display */
  .dividend-display {
    @apply mb-6 p-6 bg-[var(--color-surface)] rounded-lg border-2;
    border-color: var(--color-cyan);
  }

  .dividend-display__title {
    @apply text-lg font-semibold text-[var(--color-text-primary)] mb-4;
  }

  .dividend-display__grid {
    @apply grid grid-cols-1 md:grid-cols-3 gap-6;
  }

  .dividend-display__item {
    @apply text-center;
  }

  .dividend-display__label {
    @apply text-[var(--color-text-secondary)] text-sm mb-2;
  }

  .dividend-display__value {
    @apply text-3xl font-bold;
    color: var(--color-magenta);
  }

  .dividend-display__detail {
    @apply text-xs text-[var(--color-text-muted)] mt-2;
  }

  /* Cookie Banner */
  .cookie-banner {
    @apply fixed bottom-0 left-0 right-0 z-50 border-t-2 border-[var(--color-border)] shadow-2xl;
    background-color: var(--color-surface) !important;
    backdrop-filter: none !important;
    opacity: 1 !important;
  }

  .cookie-banner__container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6;
  }

  .cookie-banner__content {
    @apply flex flex-col md:flex-row items-start md:items-center justify-between gap-4;
  }

  .cookie-banner__text {
    @apply flex-1;
  }

  .cookie-banner__title {
    @apply text-lg font-semibold text-[var(--color-text-primary)] mb-2;
  }

  .cookie-banner__description {
    @apply text-sm text-[var(--color-text-secondary)];
  }

  .cookie-banner__link {
    @apply hover:underline font-medium;
    color: var(--color-cyan);
  }
  .cookie-banner__link:hover {
    color: var(--color-cyan);
    opacity: 0.8;
  }

  .cookie-banner__buttons {
    @apply flex gap-3 flex-shrink-0;
  }

  .cookie-banner__button {
    @apply px-6 py-2 text-sm rounded-lg transition-colors;
  }

  .cookie-banner__button--primary {
    @apply bg-[var(--color-primary)] hover:bg-[var(--color-primary-hover)] font-semibold;
    color: white;
  }

  .cookie-banner__button--secondary {
    @apply border border-[var(--color-border)] text-[var(--color-text-secondary)] hover:bg-[var(--color-surface)];
  }

  .cookie-banner__settings {
    @apply mt-4 pt-4 border-t border-[var(--color-border)];
  }

  .cookie-banner__settings-item {
    @apply flex items-center justify-between mb-3;
  }

  .cookie-banner__settings-label {
    @apply text-sm font-medium text-[var(--color-text-primary)];
  }

  .cookie-banner__settings-description {
    @apply text-xs text-[var(--color-text-muted)];
  }

  .cookie-banner__settings-checkbox {
    @apply w-4 h-4 rounded border-[var(--color-border)];
  }

  .cookie-banner__settings-save {
    @apply mt-2;
  }

  /* Total Summary */
  .total-summary {
    @apply bg-[var(--color-card)] border-2 bg-[var(--color-surface)] rounded-lg p-6 shadow-sm;
    border-color: var(--color-magenta);
  }

  .total-summary__title {
    @apply text-2xl font-bold text-[var(--color-text-primary)] mb-6;
  }

  .total-summary__grid {
    @apply grid grid-cols-1 md:grid-cols-2 gap-8;
  }

  .total-summary__item {
    @apply text-center;
  }

  .total-summary__label {
    @apply text-[var(--color-text-secondary)] text-sm mb-2;
  }

  .total-summary__value {
    @apply text-4xl font-bold;
    color: var(--color-magenta);
  }

  /* Empty State */
  .empty-state {
    @apply bg-[var(--color-card)] border border-[var(--color-border)] rounded-lg p-6 shadow-sm text-center py-16;
  }

  .empty-state__text {
    @apply text-[var(--color-text-secondary)] text-lg mb-4;
  }

  .empty-state__hint {
    @apply text-[var(--color-text-muted)];
  }

  /* Header */
  .header {
    @apply sticky top-0 z-50 border-b border-[var(--color-border)] w-full;
    background-color: var(--color-surface) !important;
    backdrop-filter: none !important;
    opacity: 1 !important;
    margin: 0;
    padding: 0;
    left: 0;
    right: 0;
  }

  .header__nav {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
    width: 100%;
    margin-left: auto;
    margin-right: auto;
  }

  .header__container {
    @apply flex items-center justify-between h-16;
  }

  .header__logo-section {
    @apply flex items-center space-x-8;
  }

  .header__logo {
    @apply flex items-center space-x-2;
  }

  .header__logo-text {
    @apply text-2xl font-bold;
    color: var(--color-text-primary);
  }
  html.dark .header__logo-text {
    background: linear-gradient(135deg, #EC4899, #06B6D4);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    color: transparent;
  }
  html:not(.dark) .header__logo-text {
    color: var(--color-text-primary);
  }

  .header__nav-links {
    @apply hidden md:flex items-center space-x-6;
  }

  .header__nav-link {
    @apply text-[var(--color-text-secondary)] transition-colors;
  }
  .header__nav-link:hover {
    color: var(--color-cyan);
  }

  .header__nav-link--active {
    color: var(--color-magenta);
    font-weight: 600;
    border-bottom: 2px solid var(--color-magenta);
  }

  .header__actions {
    @apply flex items-center space-x-4;
  }

  .header__support-links {
    @apply hidden md:flex items-center gap-2;
  }

  .header__support-link {
    @apply px-3 py-1.5 rounded-lg transition-colors text-xs font-medium;
    color: white;
  }

  .header__support-link--patreon {
    background-color: #f97316;
  }
  .header__support-link--patreon:hover {
    background-color: #ea580c;
  }

  .header__support-link--kofi {
    background-color: #13C3FF;
  }
  .header__support-link--kofi:hover {
    background-color: #0FA8D6;
  }

  .header__theme-toggle {
    @apply p-2 rounded-lg hover:bg-[var(--color-surface)] transition-colors;
  }

  .header__mobile-menu-btn {
    @apply md:hidden p-2 rounded-lg hover:bg-[var(--color-surface)] transition-colors;
  }

  .header__mobile-menu {
    @apply md:hidden pb-4 border-t border-[var(--color-border)] mt-2 pt-4;
  }

  .header__mobile-links {
    @apply flex flex-col space-y-3;
  }

  .header__mobile-support {
    @apply flex gap-2 pt-2 border-t border-[var(--color-border)];
  }

  .header__mobile-support-link {
    @apply flex-1 px-3 py-2 rounded-lg transition-colors text-xs font-medium text-center;
    color: white;
  }

  .header__mobile-support-link--patreon {
    background-color: #f97316;
  }
  .header__mobile-support-link--patreon:hover {
    background-color: #ea580c;
  }

  .header__mobile-support-link--kofi {
    background-color: #13C3FF;
  }
  .header__mobile-support-link--kofi:hover {
    background-color: #0FA8D6;
  }

  /* Footer */
  .footer {
    @apply bg-[var(--color-surface)] border-t border-[var(--color-border)] mt-16;
  }

  .footer__container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12;
  }

  .footer__grid {
    @apply grid grid-cols-1 md:grid-cols-4 gap-8;
  }

  .footer__section-title {
    @apply text-lg font-semibold text-[var(--color-text-primary)] mb-4;
  }

  .footer__section-text {
    @apply text-sm text-[var(--color-text-secondary)];
  }

  .footer__section-list {
    @apply space-y-2;
  }

  .footer__link {
    @apply text-sm text-[var(--color-text-secondary)] transition-colors;
  }
  .footer__link:hover {
    color: var(--color-cyan);
  }

  .footer__support-links {
    @apply flex gap-3 mt-4;
  }

  .footer__support-link {
    @apply inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-colors text-sm font-medium;
    color: white;
  }

  .footer__support-link--patreon {
    background-color: #f97316;
  }
  .footer__support-link--patreon:hover {
    background-color: #ea580c;
  }

  .footer__support-link--kofi {
    background-color: #13C3FF;
  }
  .footer__support-link--kofi:hover {
    background-color: #0FA8D6;
  }

  .footer__copyright {
    @apply mt-8 pt-8 border-t border-[var(--color-border)] text-center text-sm text-[var(--color-text-muted)];
  }

  /* Button Variants */
  .btn {
    @apply font-semibold py-2 px-4 rounded-lg transition-colors duration-200;
  }

  .btn--primary {
    @apply bg-[var(--color-primary)] hover:bg-[var(--color-primary-hover)];
    color: white;
  }

  .btn--secondary {
    @apply border border-[var(--color-border)] text-[var(--color-text-secondary)] hover:bg-[var(--color-surface)];
  }

  .btn--danger {
    @apply text-white;
    background-color: #ef4444;
  }
  .btn--danger:hover {
    background-color: #dc2626;
  }

  .btn--disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  /* Input Variants */
  .input {
    @apply w-full bg-[var(--color-surface)] border border-[var(--color-border)] rounded-lg px-4 py-2 text-[var(--color-text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] transition-all;
  }

  .input--disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  /* Link Styles - Allgemeine Links in Texten */
  a:not(.btn):not(.header__nav-link):not(.footer__link):not(.cookie-banner__link):not(.affiliate-section__link) {
    color: var(--color-cyan);
    text-decoration: underline;
    text-decoration-color: var(--color-cyan);
    text-underline-offset: 2px;
  }
  a:not(.btn):not(.header__nav-link):not(.footer__link):not(.cookie-banner__link):not(.affiliate-section__link):hover {
    opacity: 0.8;
  }

  /* Card Variants */
  .card {
    @apply bg-[var(--color-card)] border border-[var(--color-border)] rounded-lg p-6 shadow-sm;
  }

  .card--highlighted {
    @apply border-2 border-[var(--color-primary)];
  }

  .card--surface {
    @apply bg-[var(--color-surface)];
  }

  /* Hero Section */
  .hero-section {
    @apply py-20 md:py-32;
    background: linear-gradient(to bottom right, color-mix(in srgb, var(--color-primary) 10%, transparent), color-mix(in srgb, var(--color-accent) 10%, transparent));
  }

  .hero-section__container {
    @apply max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center;
  }

  .hero-section__title {
    @apply text-4xl md:text-5xl lg:text-6xl font-bold text-[var(--color-text-primary)] mb-6 leading-tight;
  }

  .hero-section__subtitle {
    @apply text-xl md:text-2xl text-[var(--color-text-secondary)] leading-relaxed;
  }

  /* Story Section */
  .story-section {
    @apply py-16 bg-[var(--color-bg)];
  }

  .story-section__container {
    @apply max-w-4xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .story-section__content {
    @apply card;
  }

  .story-section__title {
    @apply text-3xl md:text-4xl font-bold text-[var(--color-text-primary)] mb-6;
  }

  .story-section__text {
    @apply space-y-4 text-[var(--color-text-secondary)] leading-relaxed;
  }

  .story-section__text p {
    @apply text-base md:text-lg;
  }

  .story-section__text strong {
    @apply text-[var(--color-text-primary)] font-semibold;
  }

  /* Philosophy Section */
  .philosophy-section {
    @apply py-16 bg-[var(--color-surface)];
  }

  .philosophy-section__container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .philosophy-section__title {
    @apply text-3xl md:text-4xl font-bold text-[var(--color-text-primary)] mb-12 text-center;
  }

  .philosophy-section__grid {
    @apply grid grid-cols-1 md:grid-cols-3 gap-8;
  }

  .philosophy-section__card {
    @apply card text-center;
  }

  .philosophy-section__card-title {
    @apply text-xl font-semibold text-[var(--color-text-primary)] mb-4;
  }

  .philosophy-section__card-text {
    @apply text-[var(--color-text-secondary)] leading-relaxed;
  }

  /* Transition Section */
  .transition-section {
    @apply py-12 bg-[var(--color-bg)];
  }

  .transition-section__container {
    @apply max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center;
  }

  .transition-section__title {
    @apply text-3xl md:text-4xl font-bold text-[var(--color-text-primary)] mb-4;
  }

  .transition-section__text {
    @apply text-lg text-[var(--color-text-secondary)] leading-relaxed;
  }

  /* Tools Section */
  .tools-section {
    @apply py-16 bg-[var(--color-surface)];
  }

  .tools-section__container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .tools-section__grid {
    @apply grid grid-cols-1 md:grid-cols-3 gap-8;
  }

  .tools-section__card {
    @apply card text-center flex flex-col;
  }

  .tools-section__card-title {
    @apply text-xl font-semibold text-[var(--color-text-primary)] mb-4;
  }

  .tools-section__card-text {
    @apply text-[var(--color-text-secondary)] mb-6 flex-grow;
  }

  .tools-section__card--expanded {
    @apply md:col-span-2 lg:col-span-3;
  }

  .tools-section__calculator {
    @apply mt-6;
  }

  /* Calculator Section */
  .calculator-section {
    @apply py-16 bg-[var(--color-bg)];
  }

  .calculator-section__container {
    @apply max-w-5xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .calculator-section__title {
    @apply text-3xl md:text-4xl font-bold text-[var(--color-text-primary)] mb-4 text-center;
  }

  .calculator-section__subtitle {
    @apply text-lg text-[var(--color-text-secondary)] mb-8 text-center;
  }

  /* Affiliate Section */
  .affiliate-section {
    @apply py-16 bg-[var(--color-surface)];
  }

  .affiliate-section__container {
    @apply max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center;
  }

  .affiliate-section__title {
    @apply text-3xl md:text-4xl font-bold text-[var(--color-text-primary)] mb-6;
  }

  .affiliate-section__text {
    @apply text-[var(--color-text-secondary)] mb-4 leading-relaxed;
  }

  .affiliate-section__link {
    @apply hover:underline font-medium;
    color: var(--color-cyan);
  }
  .affiliate-section__link:hover {
    color: var(--color-cyan);
    opacity: 0.8;
  }

  /* Hardware Section */
  .hardware-section {
    @apply mb-12;
  }

  .hardware-section__title {
    @apply text-2xl md:text-3xl font-bold text-[var(--color-text-primary)] mb-8;
  }

  .hardware-section__grid {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6;
  }

  .hardware-section__card {
    @apply card flex flex-col;
  }

  .hardware-section__card-title {
    @apply text-lg font-semibold text-[var(--color-text-primary)] mb-3;
  }

  .hardware-section__card-description {
    @apply text-[var(--color-text-secondary)] mb-4 flex-grow;
  }

  /* AdSense Component */
  .adsense-container {
    @apply mb-8 flex justify-center;
  }

  .adsense-container__wrapper {
    @apply w-full max-w-[728px];
  }

  .adsense-container--placeholder {
    @apply mb-8 flex justify-center;
  }

  .adsense-container__placeholder {
    @apply bg-[var(--color-surface)] border border-[var(--color-border)] rounded-lg p-8 w-full max-w-[728px] h-[90px] flex flex-col items-center justify-center;
  }

  .adsense-container__placeholder-text {
    @apply text-[var(--color-text-muted)] text-sm mb-1;
  }

  .adsense-container__placeholder-hint {
    @apply text-[var(--color-text-muted)] text-xs;
  }

  /* Toggle Switch */
  .toggle-switch {
    @apply relative inline-flex items-center cursor-pointer;
  }

  .toggle-switch input {
    @apply sr-only peer;
  }

  .toggle-switch__slider {
    @apply w-11 h-6 bg-[var(--color-border)] rounded-full peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-[var(--color-primary)] transition-colors;
  }

  .toggle-switch__slider::after {
    content: '';
    @apply absolute top-[2px] left-[2px] bg-white border border-gray-300 rounded-full h-5 w-5 transition-all;
  }

  .peer:checked ~ .toggle-switch__slider {
    background-color: var(--color-cyan);
  }

  .peer:checked ~ .toggle-switch__slider::after {
    @apply translate-x-full;
  }
}
